+++
title = "11.  Preprocessing Data for Plotly 👩‍🎓👨‍🎓"
weight = 11
tags = ["plotly"] 
+++

# Preprocessing Data with Functions for Plotly

In this activity, you will create functions that preprocess films from the Pagila database and create a bar chart of average values by content rating.

## Instructions

* Using the `films.js`array of movies from the Pagila database, and the starter file `plots.js`, create a function that will calculate averages by content rating (i.e., G, PG, PG-13, and R) of one of the following metrics:

  * Rental rate (`rental_rate`)
  * Length (`length`)
  * Replacement cost (`replacement_cost`)

* With the calculated averages, create a function that will generate a Plotly bar chart with the average values.

* After you have the functions working, try changing the metric to update the bar chart.

* Remember to use `index.html`] to view your bar chart as you progress with your code.

## Hint

You will need to use conditionals, loops, and functions to complete this activity. You may find it helpful to review the following two activities:

* 06-Stu_Iteration_and_Conditionals

* 10-Stu_Creating-Functions

## Reference

Devrim Gündüz (2021) _Pagila_. Retrieved from: [https://github.com/devrimgunduz/pagila](https://github.com/devrimgunduz/pagila)

---

## ✅ Solutions
{{%expand "Solutions Click Here" %}}
```

```
{{% /expand%}}

